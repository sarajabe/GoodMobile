<section class="page-section checkout-result-page-section">
  <div class="img-section">
    <picture class="banner-image-container">
      <source srcset='assets/img/checkout-result-img-mobile.webp' media="(max-width: 639.9px)" type="image/webp">
      <source srcset='assets/img/checkout-result-img-mobile.png' media="(max-width: 639.9px)" type="image/png">
      <source srcset='assets/img/checkout-result-img-tablet.webp' media="(max-width: 1024.9px)" type="image/webp">
      <source srcset='assets/img/checkout-result-img-tablet.png' media="(max-width: 1024.9px)" type="image/png">
      <source srcset='assets/img/checkout-result-img-desktop.webp' media="(min-width: 1025px)" type="image/webp">
      <source srcset='assets/img/checkout-result-img-desktop.png' media="(min-width: 1025px)" type="image/png">
      <img src="assets/img/checkout-result-img-desktop.png" alt="purchase successful Image" height="400" width="2000">
    </picture>
    <div class="title-section">
      <h1 class="title">Purchase Successful!</h1>
      <h4 class="sub-title">{{!!isChangePlanSummary && !isOrderSim && !isPlanAddon? 'Your Good Mobile Plan change has
        been
        purchased!':
        (!isChangePlanSummary && !isOrderSim && !!isPlanAddon? 'Your Plan Add-on has been purchased!' : (
        !isChangePlanSummary && !!isOrderSim && !isPlanAddon? 'Your Replacement SIM has been purchased!' :
        (
        !!isSuccessfulMultiplePurchases && isSuccessfulMultiplePurchases == 'both' ? 'Your Replacement SIM + Plan add-on have been purchased!' :
        (!!isSuccessfulMultiplePurchases && isSuccessfulMultiplePurchases == 'addon' ? 'Your Plan Add-on has been purchased!' : (!!isAcpDevice? 'Your Device has been successfully purchased!' : 'Your Good Mobile Plan has been
        purchased!'))
        )))}}</h4>
    </div>
  </div>
  <div class="result-details-section">
    <div class="info-banner success-background">
      <div class="flex">
        <img src="assets/icon/green-check.svg" alt="Success Icon">
        <div class="banner-content">
          <h5 class="title">Your Order has been placed!</h5>
          <p class="smaller banner-note">Order ID is:</p>
          <a class="banner-link" (click)="goToOrderDetails(orderId)"><b>{{orderId}}</b></a>
        </div>
      </div>
    </div>
    <div class="result-info">
      <div *ngIf="!!isStorePickup">
        <h5 *ngIf="!isAcpDevice" class="top-note">Your order will be available at any of the following stores:</h5>
        <div *ngIf="!!isAcpDevice">
          <h5 class="acp-top-note">
            You may now proceed to collect your device.
          </h5>
          <h5 class="top-note">you can pick up your package from one of these two stores:</h5>
        </div>
        <div class="stores-card">
          <div *ngFor="let store of stores; let i =index" class="stores" [class.last-store]="i === (stores.length -1)">
            <img src="/assets/icon/store-alt.svg" alt="store-icon">
            <div class="store-details">
              <h4 class="store-name">{{store?.name}}</h4>
              <p class="smaller">{{store?.address1}}</p>
              <p class="smaller">{{store?.city}},{{store?.state}} {{store?.postalCode}}</p>
            </div>
          </div>
        </div>
      </div>
      <ng-container *ngIf="!isChangePlanSummary && !isPlanAddon && !isOrderSim && !isSuccessfulMultiplePurchases">
        <ng-container *ngIf="!!purchasedPlanId">
          <div *ngIf="!!isAcpDevice">
            <p class="smaller last-note">
              You can find your <b>pickup storeâ€™s barcode</b> in your <b>Order Details</b> page, to provide it for the
              store clerk for your order pickup.
            </p>
            <div class="result-actions">
              <button class="button primary" (click)="goToOrderDetails(orderId)">
                Order Details
              </button>
            </div>
          </div>
          <div *ngIf="!!purchasedPlan && !!isStorePickup && !isAcpDevice" data-cy="storePickupSuccessful">
            <p class="smaller last-note">
              You can find your <b>in-store pickup barcode</b> in your <b>Purchased Plans</b> page, to provide it for
              the store clerk for your order pickup.
            </p>
          </div>
          <div *ngIf="!!purchasedPlan && !isStorePickup && !isAcpDevice">
            <p class="smaller top-note">Lookout for your <b>new SIM Card</b> in the mail!</p>
            <p class="last-note">
              Once your SIM card <b>arrives</b> in a couple of days, we will help you get your SIM card <b>activated</b>
              with a brand new phone number, or transfer your active number (port in) from another provider. You can
              view your plan details and activate it through your <b>Purchased Plans</b> page.
            </p>
          </div>
          <div class="result-actions" *ngIf="!isAcpDevice">
            <button class="button primary" data-cy="purchasedPlansBtn" (click)="goToPurchasedPlans()">
              Purchased Plans
            </button>
          </div>
        </ng-container>
        <ng-container *ngIf="!!isActivationFlow">
          <p class="smaller top-note">You can <b>activate</b> your plan right now.</p>
          <p class="last-note">You may now <b>proceed to activate</b> your plan and SIM in the next step!
            Or at your convenience from your <b>Purchased Plans</b> page at any time!</p>
          <div class="result-actions flex-actions">
            <button class="button primary smaller" (click)="goToActivation()">
              Activate Now
            </button>
            <button class="button secondary smaller" (click)="goToPurchasedPlans()">
              Purchased Plans
            </button>
          </div>
        </ng-container>
      </ng-container>
      <ng-container *ngIf="!!isChangePlanSummary && !isOrderSim && !isPlanAddon">
        <p class="last-note change">Note that it may take several minutes for the new plan services to fully set on the
          network. Please refresh your <b>Account Summary</b> page in a few minutes to see the new data balances.</p>
        <p class="smaller last-note" *ngIf="nextCycle && !!selectedUserPlan?.basePlan">Effective on
          {{selectedUserPlan.basePlan.renewDate | date}}</p>
        <div class="result-actions flex-actions">
          <button class="button primary" (click)="goToAccountSummary()" data-cy="goToSummaryBtn">
            Account Summary
          </button>
          <button class="button secondary" (click)="goToPlans()">
            Continue Shopping
          </button>
        </div>
      </ng-container>
      <ng-container *ngIf="!isChangePlanSummary && !isOrderSim && !!isPlanAddon">
        <p class="last-note">You can view your plan and add-on details through your
          <b>Account Summary</b> page.
        </p>
        <div class="result-actions">
          <button class="button primary" (click)="goToAccountSummary()" data-cy="goToSummaryBtn">
            Account Summary
          </button>
        </div>
      </ng-container>
      <ng-container *ngIf="!!isOrderSim && !isPlanAddon && !isChangePlanSummary">
        <div *ngIf="!isStorePickup">
          <h5 class="top-note">Lookout for your <b>Replacement SIM Card</b> in the mail!</h5>
          <p class="last-note">You can view your plan details and activate it through your <b>Account Summary</b> page.
          </p>
          <div class="result-actions">
            <button class="button primary" (click)="goToAccountSummary(true)" data-cy="goToSummaryBtn">
              Account Summary
            </button>
          </div>
        </div>
        <div *ngIf="!!isStorePickup">
          <p class="smaller last-note">
            You can find your <b>in-store pickup barcode</b> in your <b>Order Details</b> page, to provide it for
            the store clerk for your order pickup.
          </p>
          <div class="result-actions">
            <button class="button primary" (click)="goToOrderDetails(orderId)">
              Order Details
            </button>
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="!!isSuccessfulMultiplePurchases">
        <div *ngIf="isSuccessfulMultiplePurchases == 'both' && !!isStorePickup">
          <p class="last-note">You can find your <b>in-store pickup barcode</b> in your <b>Order Details</b> page, to
            provide it for the store clerk for your order pickup.</p>
          <div class="result-actions">
            <button class="button primary" (click)="goToOrderDetails(orderId)">
              Order Details
            </button>
          </div>
        </div>
        <div *ngIf="isSuccessfulMultiplePurchases == 'both' && !isStorePickup">
          <h5 class="top-note">Look out for your <b>Replacement SIM Card</b> in the mail!</h5>
          <p class="last-note">You can view your plan add-ons and details and activate your plan through your <b>Account
              Summary page.</b></p>
          <div class="result-actions">
            <button class="button primary" (click)="goToAccountSummary()" data-cy="goToSummaryBtn">
              Go to Summary
            </button>
          </div>
        </div>
        <div *ngIf="isSuccessfulMultiplePurchases == 'addon' && !isStorePickup">
          <h5 class="top-note">New SIM purchase Failed!</h5>
          <p class="last-note">Your SIM has
            <strong>NOT</strong> been successfully ordered, please try again
          </p>
          <div class="result-actions">
            <button class="button primary" (click)="goToAccountSummary()" data-cy="goToSummaryBtn">
              Go to Summary
            </button>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</section>